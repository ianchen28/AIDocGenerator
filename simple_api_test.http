# AIDocGenerator API - 简化测试
# 用于快速验证API功能

@baseUrl = http://127.0.0.1:8000/api/v1

###
# 1. 健康检查
GET {{baseUrl}}/health

###
# 2. 创建作业
POST {{baseUrl}}/jobs
Content-Type: application/json

{
  "context_id": null,
  "task_prompt": "写一份关于Python编程的简单介绍"
}

###
# 3. 触发大纲生成
POST {{baseUrl}}/jobs/job-{{$randomInt 100000 999999}}/outline

###
# 4. 检查大纲状态
GET {{baseUrl}}/jobs/job-{{$randomInt 100000 999999}}/outline

###
# 5. 更新大纲并开始最终生成
PUT {{baseUrl}}/jobs/job-{{$randomInt 100000 999999}}/outline
Content-Type: application/json

{
  "outline": {
    "title": "Python编程简单介绍",
    "nodes": [
      {
        "id": "intro",
        "title": "Python简介",
        "content_summary": "介绍Python的基本概念和特点",
        "children": []
      },
      {
        "id": "basics",
        "title": "基础语法",
        "content_summary": "讲解Python的基本语法和数据类型",
        "children": []
      },
      {
        "id": "practice",
        "title": "实际应用",
        "content_summary": "展示Python在实际项目中的应用",
        "children": []
      }
    ]
  }
}

###
# 6. 检查文档状态
GET {{baseUrl}}/jobs/job-{{$randomInt 100000 999999}}/document 