# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å— (ç»Ÿä¸€æ—¥å¿—ç‰ˆ)

## ğŸ“ æ¦‚è¿°

ç°åœ¨ä½¿ç”¨ `quick_start.sh` ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼Œæ‰€æœ‰æ—¥å¿—ç»Ÿä¸€è¾“å‡ºåˆ° `logs/app.log`ã€‚

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### 1. **ä¸€é”®å¯åŠ¨**
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰
./quick_start.sh

# æˆ–è€…æŒ‡å®šç«¯å£
./quick_start.sh 8000
```

### 2. **æŸ¥çœ‹æ—¥å¿—**
```bash
# å®æ—¶æŸ¥çœ‹ç»Ÿä¸€æ—¥å¿—
tail -f logs/app.log

# ä½¿ç”¨æ—¥å¿—æŸ¥çœ‹å·¥å…·
python view_unified_logs.py monitor
```

### 3. **åœæ­¢æœåŠ¡**
```bash
./stop_dev_server.sh
```

## ğŸ“Š æ—¥å¿—ç®¡ç†

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æœ€å50è¡Œ
python view_unified_logs.py view 50

# å®æ—¶ç›‘æ§
python view_unified_logs.py monitor

# æœç´¢å…³é”®è¯
python view_unified_logs.py search "researcher"

# æ˜¾ç¤ºç»Ÿè®¡
python view_unified_logs.py stats
```

### ç›´æ¥æŸ¥çœ‹æ–‡ä»¶
```bash
# æŸ¥çœ‹æœ€å100è¡Œ
tail -n 100 logs/app.log

# å®æ—¶ç›‘æ§
tail -f logs/app.log

# æœç´¢å…³é”®è¯
grep "researcher" logs/app.log
```

## ğŸ” åŒ…å«çš„æ—¥å¿—å†…å®¹

`logs/app.log` ç°åœ¨åŒ…å«ï¼š

- âœ… **API è¯·æ±‚æ—¥å¿—** - æ‰€æœ‰ HTTP è¯·æ±‚å’Œå“åº”
- âœ… **Celery ä»»åŠ¡æ—¥å¿—** - ä»»åŠ¡æ‰§è¡Œå…¨è¿‡ç¨‹
- âœ… **å·¥ä½œæµèŠ‚ç‚¹æ—¥å¿—** - researcherã€supervisorã€writer ç­‰
- âœ… **æœç´¢å·¥å…·æ—¥å¿—** - ES æœç´¢ã€ç½‘ç»œæœç´¢
- âœ… **é”™è¯¯å’Œå¼‚å¸¸** - å®Œæ•´çš„é”™è¯¯å †æ ˆä¿¡æ¯
- âœ… **ç³»ç»Ÿé…ç½®æ—¥å¿—** - åº”ç”¨å¯åŠ¨å’Œåˆå§‹åŒ–

## ğŸ‰ ä¼˜åŠ¿

1. **ä¸€é”®å¯åŠ¨** - ä¸éœ€è¦åˆ†åˆ«å¯åŠ¨å¤šä¸ªæœåŠ¡
2. **ç»Ÿä¸€æ—¥å¿—** - æ‰€æœ‰æ—¥å¿—åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¾¿äºè°ƒè¯•
3. **åå°è¿è¡Œ** - å¯åŠ¨åå¯ä»¥å…³é—­ç»ˆç«¯
4. **å®Œæ•´è¿½è¸ª** - ä» API è¯·æ±‚åˆ°ä»»åŠ¡å®Œæˆçš„å®Œæ•´é“¾è·¯

## ğŸ“‹ æœåŠ¡ä¿¡æ¯

å¯åŠ¨æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
ğŸ‰ æœåŠ¡å¯åŠ¨æˆåŠŸï¼
==========================================
   - æœåŠ¡åœ°å€: http://127.0.0.1:8000
   - APIæ–‡æ¡£: http://127.0.0.1:8000/docs
   - ç»Ÿä¸€æ—¥å¿—: logs/app.log
   - PIDæ–‡ä»¶: service.pid
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¦‚æœå¯åŠ¨å¤±è´¥
```bash
# 1. æ£€æŸ¥ç¯å¢ƒ
conda activate ai-doc

# 2. æ£€æŸ¥ Redis
redis-cli ping

# 3. å¼ºåˆ¶åœæ­¢æ—§æœåŠ¡
./stop_dev_server.sh

# 4. é‡æ–°å¯åŠ¨
./quick_start.sh
```

### å¦‚æœæ—¥å¿—æ–‡ä»¶è¿‡å¤§
```bash
# å‹ç¼©æ—§æ—¥å¿—
gzip logs/app.log.2025-08-07_*

# æ¸…ç†æ—§æ—¥å¿—
find logs/ -name "*.log.*" -mtime +7 -delete
```

## ğŸ“ ç¤ºä¾‹å·¥ä½œæµ

```bash
# 1. å¯åŠ¨æœåŠ¡
./quick_start.sh

# 2. æäº¤ä»»åŠ¡
curl -X POST "http://localhost:8000/api/v1/jobs/document-from-outline" \
  -H "Content-Type: application/json" \
  -d '{"job_id": "test", "outline_json": "{\"title\": \"æµ‹è¯•\", \"nodes\": []}", "session_id": "test"}'

# 3. æŸ¥çœ‹æ—¥å¿—
python view_unified_logs.py monitor

# 4. åœæ­¢æœåŠ¡
./stop_dev_server.sh
```

ç°åœ¨åªéœ€è¦è¿è¡Œ `./quick_start.sh` å°±èƒ½å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼Œæ‰€æœ‰æ—¥å¿—éƒ½ä¼šç»Ÿä¸€è¾“å‡ºåˆ° `logs/app.log`ï¼ğŸ‰
